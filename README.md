# Consultation Service

## Description
This is a service that controls consultation. With this service you can do the following:
* Create a consultation.
* Add questions for the consultation.
* Get all the questions for a specific consultation with the multi-choice answers.
* Post answers to the questions for a consultation, this will return whether we think we can prescribe the medication.
* Get consultation answers by consultation id.

## How To Run
This is a spring-boot application built and run in JDK 21 and can be run via the command:
```bash
./mvnw spring-boot:run
```
Alternatively you could run it through an IDE.

## How to Use
Currently, I have hard-coded consultation and questions to the respective repositories. This just makes it easier to 
test/run as the UUID are hardcoded, whilst creating them through requests would generate a random UUID each time. 
The actions to use the API are in a postman collection, I have attached an export of this to the email with Ben. 

## Improvements
This is a list of improvement I would make to the consultation API if I had more time. I have also dotted the code 
with TODO's. 
### Adding support for multiple choices to be selected for an answer
Currently, on single answers are support (i.e. you get multiple answers to choice from, but you can only choose one.)
### The tight coupling between database entities
#### Question and Answer separation
Currently, the Question class also contains the answers this is leading to a tight coupling. It would be improved if 
the Question and Answer were separate entities, and another table represented the combination. This would allow for 
a question to have multiple different answers/valid answers depending on the context.
#### Consultation and Question separation
Currently, the Question class have a consultationId linking to the consultation to the question is for. This would 
be better if there was a separate table that combined the consultationId and the questionId. This would allow for a 
single question to be associated with multiple consultations. 
### Enrich the objects returned from the API
The objects returned from the API could be more enriched. An example of this is getting the ConsultationAnswers. 
Currently it only returns the questionId. It would be much better if it could return information on the question.
### Expose and add more endpoints
Currently, there are not many endpoints expose, good endpoints to get would be the ability to get/create on question.
### Add swagger to document the API.
### Add testing
### Improve errors generated by the custom validators.